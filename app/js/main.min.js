"use strict";gsap.registerPlugin(ScrollTrigger,TextPlugin),window.addEventListener("DOMContentLoaded",function(){document.body.classList.remove("no-transitions"),function(){var t=document.querySelector(".header");if(!t)return;var r=t.offsetHeight;new Menu({menu:document.querySelector(".header__menu"),burger:document.querySelector(".header__burger"),overlay:document.querySelector(".overlay"),navLinks:document.querySelectorAll(".header__nav a"),burgerCaption:"Открыть меню",burgerActiveCaption:"Закрыть меню",transitionDelay:400,breakpoint:1200,onOpen:function(){return document.querySelector(".header").classList.add("is-active")},onClose:function(){return document.querySelector(".header").classList.remove("is-active")}});window.addEventListener("scroll",function(e){window.pageYOffset>r?t.classList.add("is-fixed"):t.classList.remove("is-fixed")})}(),function(){var e=document.querySelector(".projects__btn-wrapper");if(!e)return;var t=document.querySelector(".projects__list");e.addEventListener("click",function(){t.classList.add("is-expanded"),e.style.display="none"})}(),function(){if(document.querySelectorAll(".benefits__num-value").forEach(function(e,t){var r=+e.textContent,o=e.closest(".benefits__item"),n={value:e.textContent=0};gsap.to(n,{value:r,duration:1+t/2,onUpdate:function(){e.textContent=Math.round(n.value)},scrollTrigger:{trigger:o,start:"150px bottom"}})}),window.innerWidth<=991||1===ScrollTrigger.isTouch)return;document.body.addEventListener("mousemove",function(e){document.documentElement.style.setProperty("--clientX","".concat(e.clientX,"px")),document.documentElement.style.setProperty("--clientY","".concat(e.clientY,"px"))}),gsap.config({nullTargetWarn:!1});for(var e=document.querySelectorAll('.section .title:not([data-animate="false"])'),t=0;t<e.length;t++)gsap.from(e[t],{opacity:0,x:-160,scrollTrigger:{trigger:e[t],start:"top bottom",scrub:1,end:"+=80%",once:!0}});for(var r=document.querySelectorAll('.section__title-back:not([data-animate="false"])'),o=0;o<r.length;o++)gsap.from(r[o],{opacity:0,x:160,scrollTrigger:{trigger:r[o],start:"top bottom",scrub:1,end:"+=80%",once:!0}});var n=document.querySelectorAll(".benefits__item");gsap.from(".benefits__list",{opacity:0,x:60,scrollTrigger:{trigger:".benefits__list",start:"top bottom",scrub:1,end:"+=40%",once:!0}});for(var c=0;c<n.length;c++)gsap.from(n[c],{opacity:0,x:100,delay:c/5,scrollTrigger:{trigger:n[c],start:"top bottom",once:!0}});for(var i=document.querySelectorAll(".about__box"),s=0;s<i.length;s++)gsap.from(i[s],{opacity:0,y:60,delay:s/5,scrollTrigger:{trigger:i[s],start:"top bottom",once:!0}});gsap.from(".about__image",{opacity:0,x:160,scrollTrigger:{trigger:".about__image",start:"top bottom",scrub:1,end:"+=80%",once:!0}}),gsap.from(".about__info",{opacity:0,y:90,scrollTrigger:{trigger:".about__info",start:"top bottom",scrub:1,end:"+=90%",once:!0}});for(var a=document.querySelectorAll(".skills__item"),l=0;l<a.length;l++)gsap.from(a[l],{opacity:0,x:100,delay:l/5,scrollTrigger:{trigger:a[l],start:"top bottom",once:!0}});for(var u=document.querySelectorAll(".skills__tags-item"),g=0;g<u.length;g++)gsap.from(u[g],{opacity:0,x:20,duration:(u.length-g+1)/40,delay:g/7,scrollTrigger:{trigger:u[g],start:"top bottom",once:!0}});for(var d=document.querySelectorAll(".skills .section__subtitle"),m=0;m<d.length;m++)gsap.from(d[m],{opacity:0,y:20,delay:m/5,scrollTrigger:{trigger:d[m],start:"top bottom",once:!0}});gsap.from(".skills__image",{opacity:0,x:160,scrollTrigger:{trigger:".skills__image",start:"top bottom",scrub:1,end:"+=80%",once:!0}}),gsap.from(".skills__content",{opacity:0,x:-160,scrollTrigger:{trigger:".skills__content",start:"top bottom",scrub:1,end:"+=80%",once:!0}});for(var p=document.querySelectorAll(".projects__item"),f=0;f<p.length;f++)gsap.from(p[f],{opacity:0,y:60,scrollTrigger:{trigger:p[f],start:"top bottom",scrub:1,end:"+=100%",once:!0}});gsap.from(".reviews__slider",{opacity:0,x:260,scrollTrigger:{trigger:".reviews__slider",start:"top bottom",scrub:1,end:"+=80%",once:!0}}),gsap.from(".contacts__image",{opacity:0,x:160,scrollTrigger:{trigger:".contacts__image",start:"top bottom",scrub:1,end:"+=80%",once:!0}}),gsap.from(".contacts__form",{opacity:0,x:-160,scrollTrigger:{trigger:".contacts__form",start:"top bottom",scrub:1,end:"+=70%",once:!0}});for(var _=document.querySelectorAll(".services__item"),y=0;y<_.length;y++){var v=_[y].querySelector(".services__box"),b=_[y].querySelector(".services__info");gsap.from(v,{opacity:0,x:(y+1)%2==0?160:-160,scrollTrigger:{trigger:v,start:"top bottom",scrub:1,end:"+=80%",once:!0}}),gsap.from(b,{opacity:0,x:(y+1)%2==0?-160:160,scrollTrigger:{trigger:b,start:"top bottom",scrub:1,end:"+=80%",once:!0}})}}(),function(){if(991<window.innerWidth)return;document.querySelectorAll(".services__box").forEach(function(e){gsap.from(e,{scrollTrigger:{trigger:e,start:"top 50%",once:!0,onEnter:function(){e.classList.add("is-animated")}}})});var t=document.querySelectorAll(".projects__item");t.forEach(function(e){e.addEventListener("click",function(){t.forEach(function(e){return e.classList.remove("is-active")}),e.classList.add("is-active")})})}(),function(){var e=document.querySelector(".reviews__slider");if(!e)return;new Splide(e,{perPage:3,perMove:1,start:1,gap:44,speed:1e3,autoHeight:!0,keyboard:"focused",updateOnMove:!0,type:"loop",focus:"center",breakpoints:{700:{gap:24},1580:{perPage:"auto",autoWidth:!0}}}).mount()}(),function(){var e={transitionDelay:350,fixedBlocks:[document.querySelector(".header")],onOpen:function(){document.querySelector(".page-wrapper").ariaHidden=!0},onClose:function(){document.querySelector(".page-wrapper").ariaHidden=!1}},o=new SimpleModal(e);o.init();var t=document.querySelectorAll(".form");document.querySelectorAll(".services__btn").forEach(function(c){c.addEventListener("click",function(e){var t=c.closest(".services__item"),r=document.querySelector("#modal-form");if(t&&r){var o=t.querySelector(".services__subtitle"),n=r.querySelector('input[name="request-from"]');o&&n&&(n.value=o.textContent)}})}),t.forEach(function(r){r.addEventListener("submit",function(e){e.preventDefault();var t=new FormData(r);""===t.get("mike").trim()&&fetch("telegram.php",{method:"POST",body:t}).then(function(e){if(!e.ok)throw new Error("Network response was not ok: ".concat(e.status));var t=e.headers.get("content-type");return t&&t.includes("application/json")?e.json():e.text()}).then(function(e){console.log("Success:",e),o.open("modal-success"),r.reset()}).catch(function(e){console.error("Error:",e),o.open("modal-error")})})})}()});
"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _regeneratorRuntime(){_regeneratorRuntime=function(){return s};var h,s={},t=Object.prototype,u=t.hasOwnProperty,p=Object.defineProperty||function(t,e,n){t[e]=n.value},e="function"==typeof Symbol?Symbol:{},i=e.iterator||"@@iterator",n=e.asyncIterator||"@@asyncIterator",r=e.toStringTag||"@@toStringTag";function o(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{o({},"")}catch(h){o=function(t,e,n){return t[e]=n}}function a(t,e,n,r){var o,s,a,l,i=e&&e.prototype instanceof b?e:b,c=Object.create(i.prototype),u=new P(r||[]);return p(c,"_invoke",{value:(o=t,s=n,a=u,l=d,function(t,e){if(l===v)throw new Error("Generator is already running");if(l===m){if("throw"===t)throw e;return{value:h,done:!0}}for(a.method=t,a.arg=e;;){var n=a.delegate;if(n){var r=E(n,a);if(r){if(r===g)continue;return r}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(l===d)throw l=m,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);l=v;var i=f(o,s,a);if("normal"===i.type){if(l=a.done?m:y,i.arg===g)continue;return{value:i.arg,done:a.done}}"throw"===i.type&&(l=m,a.method="throw",a.arg=i.arg)}})}),c}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}s.wrap=a;var d="suspendedStart",y="suspendedYield",v="executing",m="completed",g={};function b(){}function l(){}function c(){}var w={};o(w,i,function(){return this});var _=Object.getPrototypeOf,k=_&&_(_(j([])));k&&k!==t&&u.call(k,i)&&(w=k);var S=c.prototype=b.prototype=Object.create(w);function L(t){["next","throw","return"].forEach(function(e){o(t,e,function(t){return this._invoke(e,t)})})}function x(l,c){var e;p(this,"_invoke",{value:function(n,r){function t(){return new c(function(t,e){!function e(t,n,r,i){var o=f(l[t],l,n);if("throw"!==o.type){var s=o.arg,a=s.value;return a&&"object"==_typeof(a)&&u.call(a,"__await")?c.resolve(a.__await).then(function(t){e("next",t,r,i)},function(t){e("throw",t,r,i)}):c.resolve(a).then(function(t){s.value=t,r(s)},function(t){return e("throw",t,r,i)})}i(o.arg)}(n,r,t,e)})}return e=e?e.then(t,t):t()}})}function E(t,e){var n=e.method,r=t.iterator[n];if(r===h)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=h,E(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var i=f(r,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,g;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=h),e.delegate=null,g):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,g)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function A(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function j(e){if(e||""===e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(u.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=h,t.done=!0,t};return r.next=r}}throw new TypeError(_typeof(e)+" is not iterable")}return p(S,"constructor",{value:l.prototype=c,configurable:!0}),p(c,"constructor",{value:l,configurable:!0}),l.displayName=o(c,r,"GeneratorFunction"),s.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===l||"GeneratorFunction"===(e.displayName||e.name))},s.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,c):(t.__proto__=c,o(t,r,"GeneratorFunction")),t.prototype=Object.create(S),t},s.awrap=function(t){return{__await:t}},L(x.prototype),o(x.prototype,n,function(){return this}),s.AsyncIterator=x,s.async=function(t,e,n,r,i){void 0===i&&(i=Promise);var o=new x(a(t,e,n,r),i);return s.isGeneratorFunction(e)?o:o.next().then(function(t){return t.done?t.value:o.next()})},L(S),o(S,r,"Generator"),o(S,i,function(){return this}),o(S,"toString",function(){return"[object Generator]"}),s.keys=function(t){var n=Object(t),r=[];for(var e in n)r.push(e);return r.reverse(),function t(){for(;r.length;){var e=r.pop();if(e in n)return t.value=e,t.done=!1,t}return t.done=!0,t}},s.values=j,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=h,this.done=!1,this.delegate=null,this.method="next",this.arg=h,this.tryEntries.forEach(A),!t)for(var e in this)"t"===e.charAt(0)&&u.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=h)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function t(t,e){return o.type="throw",o.arg=n,r.next=t,e&&(r.method="next",r.arg=h),!!e}for(var e=this.tryEntries.length-1;0<=e;--e){var i=this.tryEntries[e],o=i.completion;if("root"===i.tryLoc)return t("end");if(i.tryLoc<=this.prev){var s=u.call(i,"catchLoc"),a=u.call(i,"finallyLoc");if(s&&a){if(this.prev<i.catchLoc)return t(i.catchLoc,!0);if(this.prev<i.finallyLoc)return t(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return t(i.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return t(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&u.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=t,o.arg=e,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),A(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;A(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:j(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=h),g}},s}function asyncGeneratorStep(t,e,n,r,i,o,s){try{var a=t[o](s),l=a.value}catch(t){return void n(t)}a.done?e(l):Promise.resolve(l).then(r,i)}function _asyncToGenerator(a){return function(){var t=this,s=arguments;return new Promise(function(e,n){var r=a.apply(t,s);function i(t){asyncGeneratorStep(r,e,n,i,o,"next",t)}function o(t){asyncGeneratorStep(r,e,n,i,o,"throw",t)}i(void 0)})}}function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach(function(t){_defineProperty(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function _defineProperty(t,e,n){return(e=_toPropertyKey(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_toPropertyKey(r.key),r)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function _toPropertyKey(t){var e=_toPrimitive(t,"string");return"symbol"==_typeof(e)?e:String(e)}function _toPrimitive(t,e){if("object"!=_typeof(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===e?String:Number)(t);var r=n.call(t,e||"default");if("object"!=_typeof(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}var html=document.querySelector(":root"),throttle=function(i){var o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:250,s=!1,a=null,l=null;return function t(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(s)return a=n,void(l=this);i.apply(this,n),s=!0,setTimeout(function(){s=!1,l&&(t.apply(l,a),a=l=null)},o)}},waitFor=function(e){return new Promise(function(t){return setTimeout(t,e)})},updateCSSVars=function(){html.style.setProperty("--window-height","".concat(window.innerHeight,"px")),html.style.setProperty("--header-height","".concat(document.querySelector(".header").offsetHeight,"px"))};updateCSSVars(),window.addEventListener("resize",throttle(updateCSSVars));var SimpleModal=function(){function e(t){_classCallCheck(this,e);this.options=_objectSpread(_objectSpread({},{onInit:function(){},beforeOpen:function(){},onOpen:function(){},beforeClose:function(){},onClose:function(){},onStartOpen:function(){},disableScroll:!0,transitionDelay:300,nested:!0,overlayCloseAll:!0,fixPageOffset:!0,fixedBlocks:[]}),t),this.html=document.querySelector("html"),this.body=document.querySelector("body"),this.modalNodes=document.querySelectorAll(".modal"),this.activeModalNodes=document.querySelectorAll(".modal.is-open"),this.isAnimated=!1}var t,n,r;return _createClass(e,[{key:"init",value:function(){var e=this;0<this.modalNodes.length&&(this.modalNodes.forEach(function(t){t.style.transitionDuration=e.options.transitionDelay/1e3+"s"}),this._events(),this.options.onInit())}},{key:"open",value:(r=_asyncToGenerator(_regeneratorRuntime().mark(function t(e){var n;return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.isAnimated)return t.abrupt("return");t.next=2;break;case 2:if(0<this.activeModalNodes.length)return t.next=5,this.closeAll();t.next=7;break;case 5:return t.next=7,waitFor(this.options.transitionDelay+100);case 7:return n=document.querySelector("#"+e),this.options.beforeOpen(n),this.options.disableScroll&&this._disableScroll(n),n.setAttribute("aria-hidden",!1),this.isAnimated=!0,t.next=14,waitFor(1);case 14:return this.options.onStartOpen(n),n.classList.add("is-open"),n.focus(),t.next=19,waitFor(this.options.transitionDelay);case 19:this.isAnimated=!1,this.activeModalNodes=document.querySelectorAll(".modal.is-open"),this.options.onOpen(n);case 22:case"end":return t.stop()}},t,this)})),function(t){return r.apply(this,arguments)})},{key:"close",value:(n=_asyncToGenerator(_regeneratorRuntime().mark(function t(e){var n;return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.isAnimated)return t.abrupt("return");t.next=2;break;case 2:return n=document.querySelector("#"+e),this.options.beforeClose(n),this.isAnimated=!0,n.classList.remove("is-open"),this.options.disableScroll&&1===this.activeModalNodes.length&&this._enableScroll(n),t.next=9,waitFor(this.options.transitionDelay);case 9:n.setAttribute("aria-hidden",!0),this.isAnimated=!1,this.activeModalNodes=document.querySelectorAll(".modal.is-open"),this.options.onClose(n);case 13:case"end":return t.stop()}},t,this)})),function(t){return n.apply(this,arguments)})},{key:"closeAll",value:(t=_asyncToGenerator(_regeneratorRuntime().mark(function t(){var n=this;return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.activeModalNodes.forEach(function(){var e=_asyncToGenerator(_regeneratorRuntime().mark(function t(e){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n.isAnimated=!1,t.next=3,n.close(e.id);case 3:case"end":return t.stop()}},t)}));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return t.stop()}},t,this)})),function(){return t.apply(this,arguments)})},{key:"_events",value:function(){var a=this;document.body.addEventListener("click",function(t){var e=t.target.closest("[data-modal-open]"),n=t.target.closest("[data-modal-close]"),r=t.target.closest(".modal"),i=r&&!t.target.closest(".modal__inner");if(e){t.preventDefault();var o=e.dataset.modalOpen;!a.options.nested&&0<a.activeModalNodes.length&&(a.closeAll(),waitFor(a.options.transitionDelay)),a.open(o)}else if(n){t.preventDefault();var s=n.dataset.modalClose||r.id;a.close(s)}else i&&(a.options.overlayCloseAll&&0<a.activeModalNodes.length?a.closeAll():a.close(r.id))}),document.addEventListener("keydown",function(t){"Escape"===t.key?a.closeAll():t.key})}},{key:"_enableScroll",value:function(t){this.options.fixPageOffset&&(this.options.fixedBlocks.forEach(function(t){return t.style.paddingRight=""}),t.style.paddingRight="",this.body.style.paddingRight=""),this.html.style.overflow="",this.body.style.overflow=""}},{key:"_disableScroll",value:function(t){if(this.options.fixPageOffset){var e=window.innerWidth-this.body.offsetWidth+"px";this.options.fixedBlocks.forEach(function(t){return t.style.paddingRight=e}),t.style.paddingRight=e,this.body.style.paddingRight=e}this.html.style.overflow="hidden",this.body.style.overflow="hidden"}}]),e}(),Menu=function(){function n(t){_classCallCheck(this,n),this.html=document.querySelector("html"),this.isInit=!1,this.isAnimating=!1;var e={menu:document.querySelector("[data-menu]"),burger:document.querySelector("[data-burger]"),close:document.querySelector("[data-menu-close]"),overlay:document.querySelector("[data-menu-overlay]"),navLinks:document.querySelectorAll("[data-menu-item]"),burgerCaption:"Открыть меню",burgerActiveCaption:"Закрыть меню",transitionDelay:400,transitionEasing:"ease-in-out",breakpoint:1200,display:"block",disableScroll:!0,onOpen:function(){},onClose:function(){}};this.options=_objectSpread(_objectSpread({},e),t),this.closeHandler=this.close.bind(this,t),this.toggleHandler=this.toggle.bind(this,t),this._init()}var t,e;return _createClass(n,[{key:"open",value:(e=_asyncToGenerator(_regeneratorRuntime().mark(function t(){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.isAnimating)return t.abrupt("return");t.next=2;break;case 2:return this.isAnimating=!0,this.options.onOpen(),this.options.menu.style.transition=this.options.transitionDelay/1e3+"s"+this.options.transitionEasing,this.options.burger.style.transition=this.options.transitionDelay/1e3+"s"+this.options.transitionEasing,this.options.overlay&&(this.options.overlay.style.transition=this.options.transitionDelay/1e3+"s"+this.options.transitionEasing,this.options.overlay.style.display="block"),this.options.menu.style.display=this.options.display,this.options.burger.setAttribute("aria-expanded","true"),this.options.burger.setAttribute("aria-label",this.options.burgerActiveCaption),this.options.disableScroll&&this.html.classList.add("disable-scroll"),t.next=13,waitFor(1);case 13:return this.options.overlay&&this.options.overlay.classList.add("is-active"),this.options.menu.classList.add("is-active"),this.options.burger.classList.add("is-active"),t.next=18,waitFor(this.options.transitionDelay);case 18:this.options.menu.style.transition="",this.options.burger.style.transition="",this.options.overlay&&(this.options.overlay.style.transition=""),this.isAnimating=!1;case 22:case"end":return t.stop()}},t,this)})),function(){return e.apply(this,arguments)})},{key:"close",value:(t=_asyncToGenerator(_regeneratorRuntime().mark(function t(){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.isAnimating)return t.abrupt("return");t.next=2;break;case 2:return this.isAnimating=!0,this.options.onClose(),this.options.menu.style.transition=this.options.transitionDelay/1e3+"s"+this.options.transitionEasing,this.options.burger.style.transition=this.options.transitionDelay/1e3+"s"+this.options.transitionEasing,this.options.overlay&&(this.options.overlay.style.transition=this.options.transitionDelay/1e3+"s"+this.options.transitionEasing,this.options.overlay.classList.remove("is-active")),this.options.menu.classList.remove("is-active"),this.options.burger.classList.remove("is-active"),this.options.burger.setAttribute("aria-expanded","false"),this.options.burger.setAttribute("aria-label",this.options.burgerCaption),this.options.disableScroll&&this.html.classList.remove("disable-scroll"),t.next=14,waitFor(this.options.transitionDelay);case 14:this.options.overlay&&(this.options.overlay.style.display="",this.options.overlay.style.transition=""),this.options.menu.style.display="",this.options.menu.style.transition="",this.options.burger.style.transition="",this.isAnimating=!1;case 19:case"end":return t.stop()}},t,this)})),function(){return t.apply(this,arguments)})},{key:"toggle",value:function(){this.options.menu.classList.contains("is-active")?this.close():this.open()}},{key:"_init",value:function(){this.options.menu&&(this.options.burger.setAttribute("aria-label",this.options.burgerCaption),this._events())}},{key:"_addListeners",value:function(){var t,e,n,r,i=this;null===(t=this.options.burger)||void 0===t||t.addEventListener("click",this.toggleHandler),null===(e=this.options.close)||void 0===e||e.addEventListener("click",this.closeHandler),null===(n=this.options.overlay)||void 0===n||n.addEventListener("click",this.closeHandler),null===(r=this.options.navLinks)||void 0===r||r.forEach(function(t){return t.addEventListener("click",i.closeHandler)})}},{key:"_removeListeners",value:function(){var t,e,n,r,i=this;null===(t=this.options.burger)||void 0===t||t.removeEventListener("click",this.toggleHandler),null===(e=this.options.close)||void 0===e||e.removeEventListener("click",this.closeHandler),null===(n=this.options.overlay)||void 0===n||n.removeEventListener("click",this.closeHandler),null===(r=this.options.navLinks)||void 0===r||r.forEach(function(t){return t.removeEventListener("click",i.closeHandler)})}},{key:"_events",value:function(){var t=this,e=function(){if(window.innerWidth<=t.options.breakpoint){if(t.isInit)return;t._addListeners(),t.isInit=!0}else{if(!t.isInit)return;t.close(),t._removeListeners(),t.isInit=!1}};e(),window.addEventListener("resize",throttle(e))}}]),n}();